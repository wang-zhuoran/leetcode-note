
# ä»é›¶åˆ°è¿›é˜¶ï¼šäºŒåˆ†æŸ¥æ‰¾ç®—æ³•æ·±åº¦å¤ä¹ ç¬”è®°

æœ¬æ–‡é€šè¿‡ 6 é“é«˜é¢‘ LeetCode é¢˜ç›®ï¼Œå¸¦ä½ ä»åŸºæœ¬é€»è¾‘å‡ºå‘ï¼Œæ”»å…‹è¾¹ç•Œå¤„ç†ã€æº¢å‡ºé¢„é˜²ã€è¾¹ç•Œæ”¶ç¼©åŠéæœ‰åºæ•°ç»„äºŒåˆ†ç­‰æ ¸å¿ƒéš¾ç‚¹ã€‚

---

## ä¸€ã€ åŸºç¡€å…¥é—¨ï¼šæŸ¥æ‰¾ç¡®å®šçš„ç›®æ ‡ç‚¹

### 1. LeetCode 704. äºŒåˆ†æŸ¥æ‰¾
**é¢˜ç›®æè¿°ï¼š** åœ¨å‡åºæ•°ç»„ä¸­æŸ¥æ‰¾ç›®æ ‡å€¼ï¼Œä¸å­˜åœ¨åˆ™è¿”å› -1ã€‚

```cpp
class Solution {
public:
    int search(vector<int>& nums, int target) {
        int l = 0, r = nums.size() - 1;
        while(l <= r) {
            int mid = l + (r - l) / 2; // æ ¸å¿ƒï¼šé˜²æ­¢ (l+r) æº¢å‡º
            if(nums[mid] == target) return mid;
            else if(nums[mid] < target) l = mid + 1; // ç›®æ ‡åœ¨å³
            else r = mid - 1; // ç›®æ ‡åœ¨å·¦
        }
        return -1;
    }
};
```
*   **æ•™è®­ï¼š** å§‹ç»ˆç¡®è®¤æ•°ç»„çš„**å•è°ƒæ€§**ã€‚å¦‚æœ `nums[mid] > target`ï¼Œè¯´æ˜ç›®æ ‡åœ¨å·¦ä¾§ï¼Œåº”æ›´æ–°å³è¾¹ç•Œ `r = mid - 1`ã€‚
*   **å­¦åˆ°ï¼š** æ¨¡æ¿ä¸€ `while(l <= r)` é€‚ç”¨äºå¯»æ‰¾ä¸€ä¸ª**ç¡®å®šçš„ç‚¹**ï¼Œè¿™é‡Œçš„å…³é”®æ˜¯åŒºé—´çš„å¼€é—­ï¼Œå¦‚æœæ˜¯é—­åŒºé—´ï¼Œåˆ™l<=ré€‚ç”¨ã€‚

### 2. LeetCode 35. æœç´¢æ’å…¥ä½ç½®
**é¢˜ç›®æè¿°ï¼š** æ‰¾åˆ°ç›®æ ‡å€¼ç´¢å¼•ï¼Œè‹¥ä¸å­˜åœ¨ï¼Œè¿”å›å®ƒå°†ä¼šè¢«æŒ‰é¡ºåºæ’å…¥çš„ä½ç½®ã€‚

```cpp
class Solution {
public:
    int searchInsert(vector<int>& nums, int target) {
        int l = 0, r = nums.size() - 1;
        while(l <= r) {
            int mid = l + (r - l) / 2;
            if(nums[mid] == target) return mid;
            else if(nums[mid] < target) l = mid + 1;
            else r = mid - 1;
        }
        return l; // æ ¸å¿ƒï¼šå¾ªç¯ç»“æŸæ—¶ï¼Œl æŒ‡å‘ç¬¬ä¸€ä¸ªå¤§äº target çš„ä½ç½®
    }
};
```
*   **æ•™è®­ï¼š** ä¸è¦éšä¾¿è¿”å› `mid` æˆ– `mid + 1`ï¼Œå®ƒä»¬åœ¨å¾ªç¯ç»“æŸåæ˜¯ä¸å¯é çš„ã€‚
*   **å­¦åˆ°ï¼š** åœ¨ `while(l <= r)` é€»è¾‘ä¸­ï¼Œå¦‚æœæ²¡æ‰¾åˆ°ç›®æ ‡å€¼ï¼Œ**`l` æ°¸è¿œæŒ‡å‘å¾…æ’å…¥çš„ä½ç½®**ã€‚

---

## äºŒã€ æ•°å­¦åº”ç”¨ï¼šåœ¨å€¼åŸŸä¸ŠäºŒåˆ†

### 3. LeetCode 69. x çš„å¹³æ–¹æ ¹
**é¢˜ç›®æè¿°ï¼š** è®¡ç®—å¹¶è¿”å› $x$ çš„ç®—æœ¯å¹³æ–¹æ ¹çš„æ•´æ•°éƒ¨åˆ†ï¼ˆå‘ä¸‹å–æ•´ï¼‰ã€‚

```cpp
class Solution {
public:
    int mySqrt(int x) {
        int l = 0, r = x;
        while(l <= r) {
            long long mid = l + (r - l) / 2; // é˜²æ­¢ mid*mid æº¢å‡º
            if(mid * mid <= x) l = mid + 1;
            else r = mid - 1;
        }
        return r; // æ ¸å¿ƒï¼šr æ˜¯æœ€åä¸€ä¸ªå¹³æ–¹ <= x çš„æ•´æ•°
    }
};
```
*   **æ•™è®­ï¼š** æ¶‰åŠä¹˜æ³•æ—¶ï¼Œä½¿ç”¨ `long long` é¢„é˜²æº¢å‡ºï¼Œæˆ–è€…æ”¹å†™ä¸º `mid <= x / mid`ã€‚
*   **å­¦åˆ°ï¼š** å¯»æ‰¾â€œæœ€å¤§çš„ç¬¦åˆæ¡ä»¶çš„æ•°â€æ—¶ï¼Œå¾ªç¯ç»“æŸåè¿”å› `r`ã€‚

### 4. LeetCode 367. æœ‰æ•ˆçš„å®Œå…¨å¹³æ–¹æ•°
**é¢˜ç›®æè¿°ï¼š** åˆ¤æ–­ä¸€ä¸ªæ­£æ•´æ•°æ˜¯å¦ä¸ºå®Œå…¨å¹³æ–¹æ•°ã€‚

```cpp
class Solution {
public:
    bool isPerfectSquare(int num) {
        int l = 1, r = num;
        while(l <= r) {
            long long mid = l + (r - l) / 2;
            if(mid * mid == num) return true;
            else if(mid * mid < num) l = mid + 1;
            else r = mid - 1;
        }
        return false;
    }
};
```
*   **å­¦åˆ°ï¼š** é€šç”¨çš„äºŒåˆ†é€»è¾‘é€šå¸¸å¯ä»¥è‡ªåŠ¨æ¶µç›– `num = 1` ç­‰ç‰¹æ®Šè¾¹ç•Œï¼Œä¸éœ€è¦é¢å¤–å†™ `if` ç‰¹åˆ¤ï¼Œä»£ç æ›´ä¼˜é›…ã€‚

---

## ä¸‰ã€ è¾¹ç•Œè¿›é˜¶ï¼šæŸ¥æ‰¾å…ƒç´ çš„èŒƒå›´

### 5. LeetCode 34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®
**é¢˜ç›®æè¿°ï¼š** æŸ¥æ‰¾ target çš„å¼€å§‹å’Œç»“æŸç´¢å¼•ï¼Œè¦æ±‚ $O(\log n)$ã€‚

```cpp
class Solution {
public:
    vector<int> searchRange(vector<int>& nums, int target) {
        int left = getBound(nums, target, true);
        if (left == nums.size() || nums[left] != target) return {-1, -1};
        int right = getBound(nums, target, false);
        return {left, right - 1};
    }

    int getBound(vector<int>& nums, int target, bool isLeft) {
        int l = 0, r = nums.size() - 1;
        while (l <= r) {
            int mid = l + (r - l) / 2;
            // lower_bound é€»è¾‘ï¼šå¯»æ‰¾ç¬¬ä¸€ä¸ª >= target çš„ä½ç½®
            // upper_bound é€»è¾‘ï¼šå¯»æ‰¾ç¬¬ä¸€ä¸ª > target çš„ä½ç½®
            if (nums[mid] > target || (isLeft && nums[mid] >= target)) r = mid - 1;
            else l = mid + 1;
        }
        return l; // è¿”å›ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„åˆ†ç•Œç‚¹
    }
};
```
*   **æ ¸å¿ƒæ•™è®­ï¼š** ç»å¯¹ä¸èƒ½åœ¨äºŒåˆ†æ‰¾åˆ° `mid` åè¿›è¡Œçº¿æ€§æ‰«æï¼Œé‚£ä¼šä½¿å¤æ‚åº¦é€€åŒ–ä¸º $O(n)$ã€‚å¿…é¡»é€šè¿‡ä¸¤æ¬¡äºŒåˆ†ï¼ˆæˆ–ä¿®æ”¹åˆ¤æ–­æ¡ä»¶ï¼‰é”å®šå·¦å³è¾¹ç•Œã€‚
*   **å­¦åˆ°ï¼š** `lower_bound`ï¼ˆç¬¬ä¸€ä¸ª $\ge$ï¼‰å’Œ `upper_bound`ï¼ˆç¬¬ä¸€ä¸ª $>$ï¼‰æ˜¯äºŒåˆ†æŸ¥æ‰¾çš„é«˜çº§å½¢æ€ã€‚

---

## å››ã€ é€»è¾‘è¿›é˜¶ï¼šéæœ‰åºæ•°ç»„çš„äºŒåˆ†

### 6. LeetCode 162. å¯»æ‰¾å³°å€¼
**é¢˜ç›®æè¿°ï¼š** æ‰¾åˆ°æ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªæ¯”å·¦å³ç›¸é‚»å…ƒç´ éƒ½å¤§çš„å³°å€¼ç´¢å¼•ã€‚

```cpp
class Solution {
public:
    int findPeakElement(vector<int>& nums) {
        int l = 0, r = nums.size() - 1;
        while (l < r) { // æ¨¡æ¿äºŒï¼šæ”¶ç¼©åŒºé—´
            int mid = l + (r - l) / 2;
            if (nums[mid] < nums[mid + 1]) l = mid + 1; // å¤„äºä¸Šå¡ï¼Œå³°å€¼åœ¨å³
            else r = mid; // å¤„äºä¸‹å¡ï¼Œmid å¯èƒ½æ˜¯å³°å€¼æˆ–å³°å€¼åœ¨å·¦
        }
        return l; // l == r æ—¶é”å®šå³°å€¼
    }
};
```
*   **æ ¸å¿ƒæ•™è®­ï¼š** é¿å…åŒæ—¶ä½¿ç”¨ `mid-1` å’Œ `mid+1` ä»¥é˜²ç´¢å¼•è¶Šç•Œã€‚
*   **å­¦åˆ°ï¼š** äºŒåˆ†æ³•æœ¬è´¨ä¸Šæ˜¯æ ¹æ®**â€œäºŒæ®µæ€§â€**ï¼ˆå¦‚ï¼šä¸Šå¡ vs ä¸‹å¡ï¼‰æ¥æ’é™¤æ‰ä¸€åŠä¸å¯èƒ½çš„åŒºé—´ã€‚

---

## ğŸ’¡ å…¨é¢å¤ä¹ æ€»ç»“

### 1. é˜²å¾¡æ€§ç¼–ç¨‹ï¼šä¸‰å¤§æ³¨æ„
*   **é˜²æ­¢æº¢å‡º**ï¼šæ°¸è¿œä½¿ç”¨ `mid = l + (r - l) / 2`ã€‚
*   **å˜é‡ç±»å‹**ï¼šå½“æ¶‰åŠ `mid * mid` æ—¶ï¼Œä½¿ç”¨ `long long` æˆ–æ”¹ä¸ºé™¤æ³•åˆ¤æ–­ã€‚
*   **ç´¢å¼•è¶Šç•Œ**ï¼šåœ¨ `while(l < r)` ä¸­ä½¿ç”¨ `mid + 1` æ˜¯å®‰å…¨çš„ï¼Œå› ä¸º `mid` æ°¸è¿œå–ä¸åˆ° `r`ã€‚

### 2. æ¨¡æ¿é€‰æ‹©
| åœºæ™¯ | å¾ªç¯æ¡ä»¶ | è¾¹ç•Œæ›´æ–° | è¿”å›å€¼å«ä¹‰ |
| :--- | :--- | :--- | :--- |
| **æ‰¾å‡†ç¡®å€¼** | `while(l <= r)` | `l=mid+1`, `r=mid-1` | æ‰¾åˆ°è¿”å› `mid`, æ‰¾ä¸åˆ°è¿”å› -1 |
| **æ‰¾æ’å…¥ç‚¹/å·¦è¾¹ç•Œ** | `while(l <= r)` | `l=mid+1`, `r=mid-1` | ç»“æŸæ—¶ `l` æ˜¯ç¬¬ä¸€ä¸ªæ»¡è¶³æ¡ä»¶çš„ç´¢å¼• |
| **æ”¶ç¼©åŒºé—´/æ‰¾å³°å€¼** | `while(l < r)` | `l=mid+1`, `r=mid` | ç»“æŸæ—¶ `l == r`ï¼Œå³ä¸ºç›®æ ‡ |


*   **ç”»æ•°è½´**ï¼šå†™æ›´æ–°é€»è¾‘ `l = mid + 1` è¿˜æ˜¯ `r = mid - 1` æ—¶ï¼Œåœ¨å¤§è„‘ä¸­ç”»å‡ºç›®æ ‡åœ¨å·¦è¿˜æ˜¯åœ¨å³ã€‚
